change input checking so that it doesn't only apply to the last in the group.